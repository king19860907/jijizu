package com.jijizu.core.group.dao;

import java.util.List;
import java.util.Map;

import com.jijizu.core.dto.PaginationDTO;
import com.jijizu.core.group.dto.GroupInfo;
import com.jijizu.core.group.dto.GroupUsers;
import com.jijizu.core.status.dto.StatusInfoWithFwdSrc;
import com.jijizu.core.user.dto.UserInfo;

public interface GroupDAO {

	/**   
	 *******************************************************************************
	 * @function : 保存集集组
	 * @param para
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-1-29   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	Long saveGroup(Map<String, Object> para);
	
	/**   
	 *******************************************************************************
	 * @function : 根据ID获取集集组信息
	 * @param groupId
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-1-31   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	GroupInfo getGroupInfoById(Long groupId);
	
	/**   
	 *******************************************************************************
	 * @function : 根据ID获取集集组信息-验证框架使用
	 * @param groupId
	 * @param para
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-1   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	GroupInfo getGroupInfoById(Long groupId,Map<String,Object> para);
	
	/**   
	 *******************************************************************************
	 * @function : 
	 * @param groupId
	 * @param userId
	 * @param isLoadGroupUsers		是否加载groupUsers
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-1   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	GroupInfo getGroupInfoById(Long groupId,Long userId,boolean isLoadGroupUsers);
	
	/**   
	 *******************************************************************************
	 * @function : 查询集集组
	 * @param pageNum
	 * @param pageSize
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-1-31   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	PaginationDTO<GroupInfo> findGroupInfoPage(long pageNum, long pageSize);
	
	/**   
	 *******************************************************************************
	 * @function : 查询我发起的集集组
	 * @param pageNum
	 * @param pageSize
	 * @param userId
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-1-31   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	PaginationDTO<GroupInfo> findMyCreateGroupPage(long pageNum, long pageSize,Long userId);
	
	/**
	 * 
	 *******************************************************************************
	 * @function : 保存参加集集组记录
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-1-31   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	Long saveGroupUsers(Map<String,Object> para);
	
	/**   
	 *******************************************************************************
	 * @function : 根据集集组ID和用户ID获取用户参加集集组信息
	 * @param userId
	 * @param groupId
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-1   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	GroupUsers getGroupUsersByGroupIdAndUserId(Long userId,Long groupId);
	
	/**   
	 *******************************************************************************
	 * @function : 根据集集组ID和用户ID删除用户参加集集组信息
	 * @param userId
	 * @param groupId
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-1   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	void deleteGroupUsersByGroupIdAndUserId(Long userId,Long groupId);
	
	/**   
	 *******************************************************************************
	 * @function : 更新集集组参加人数
	 * @param groupId
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-1   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	void updateGroupEnterNum(Long groupId);
	
	/**   
	 *******************************************************************************
	 * @function : 查询我参加的集集组
	 * @param pageNum
	 * @param pageSize
	 * @param userId
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-2   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	PaginationDTO<GroupInfo> findMyEnterGroupPage(long pageNum, long pageSize,Long userId);
	
	/**   
	 *******************************************************************************
	 * @function : 查询集集组参加的用户
	 * @param groupId
	 * @param pageNum
	 * @param pageSize
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-4   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	PaginationDTO<GroupUsers> findGroupUsersPage(Long groupId, long pageNum, long pageSize);
	
	/**   
	 *******************************************************************************
	 * @function : 根据城市查询推荐的集集组
	 * @param userId
	 * @param city
	 * @param rownum
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-4   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	List<GroupInfo> findRecommendGroupByCity(Long userId,String city,long rownum);
	
	/**   
	 *******************************************************************************
	 * @function : 根据城市查询热门集集组
	 * @param city
	 * @param rownum
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-3-13   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	List<GroupInfo> findHotGroupByCity(String city,long rownum);
	
	/**   
	 *******************************************************************************
	 * @function : 查询集集组微博
	 * @param groupId
	 * @param pageNum
	 * @param pageSize
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-5   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	PaginationDTO<StatusInfoWithFwdSrc> findGroupStatusPage(Long groupId,
			long pageNum, long pageSize);
	
	/**   
	 *******************************************************************************
	 * @function : 删除集集组
	 * @param groupId
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-5   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	void deleteGroup(Long groupId);
	
	/**   
	 *******************************************************************************
	 * @function : 集集组通过审核
	 * @param groupId
	 * @param userId
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-5   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	void passGroupUser(Long groupId,Long userId);
	
	/**   
	 *******************************************************************************
	 * @function : 删除用户参加集集组信息
	 * @param groupId
	 * @param userId
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-5   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	void deleteGroupUser(Long groupId,Long userId);
	
	/**   
	 *******************************************************************************
	 * @function : 更新集集组
	 * @param para
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-6   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	void updateGroup(Map<String,Object> para);
	
	/**   
	 *******************************************************************************
	 * @function : 查询正在召集的集集组
	 * @param rownum
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-2-18   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	List<GroupInfo> findConveneGroup(Long rownum);
	
	/**   
	 *******************************************************************************
	 * @function : 保存孩子参加集集组信息
	 * @param userId
	 * @param childId
	 * @param groupId
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-3-25   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	Long saveGroupChilds(Long userId,Long childId,Long groupId);
	
	/**   
	 *******************************************************************************
	 * @function : 删除孩子参加集集组信息
	 * @param userId
	 * @param groupId
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-3-25   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	void deleteGroupChilds(Long userId,Long groupId);
	
	/**   
	 *******************************************************************************
	 * @function : 查询集集组参加的用户-包含等待区域的用户
	 * @param groupId
	 * @param pageNum
	 * @param pageSize
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-3-26   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	PaginationDTO<GroupUsers> findGroupUsersAllPage(Long groupId, long pageNum, long pageSize);
	
	/**   
	 *******************************************************************************
	 * @function : 根据加入状态查询集集组用户
	 * @param groupId
	 * @param joinStatus
	 * @return
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-3-26   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	List<GroupUsers> findGroupUsersByJoinStatus(Long groupId,String joinStatus);
	
	/**   
	 *******************************************************************************
	 * @function : 修改集集参加用户的加入状态
	 * @param groupId
	 * @param userId
	 * @param joinStatus
	 *******************************************************************************
	 * @creator ：majun   
	 * @date ：2013-3-26   
	 *******************************************************************************
	 * @revisor ：   
	 * @date ：   
	 * @memo ：   
	 *******************************************************************************
	 */
	void updateGroupUserJoinStatus(Long groupId,Long userId,String joinStatus);
	
}
